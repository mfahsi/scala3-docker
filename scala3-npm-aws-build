# Use the provided sbt and scala image as the base
FROM sbtscala/scala-sbt:eclipse-temurin-focal-17.0.8.1_1_1.9.5_2.12.18

# Install Node.js, npm, and other dependencies
RUN apt-get update && \
    apt-get install -y curl unzip python3-pip && \
    curl -sL https://deb.nodesource.com/setup_16.x | bash - && \
    apt-get install -y nodejs npm

# Install AWS CLI version 1
RUN pip3 install awscli --upgrade

# Clean up to reduce image size
RUN apt-get clean && \
    rm -rf /var/lib/apt/lists/*

# Confirm installations
RUN node -v
RUN npm -v
RUN aws --version

CMD ["bash"]
